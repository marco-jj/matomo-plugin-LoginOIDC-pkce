<style>

  .loader, .loader:before, .loader:after {
    border-radius: 50%;
    width: 2.5em !important;
    height: 2.5em !important;
    animation-fill-mode: both;
    animation: bblFadInOut 1.8s infinite ease-in-out;
  }
  .loader {
    color: #006bb3;
    font-size: 7px;
    position: relative;
    text-indent: -9999em;
    transform: translateZ(0);
    animation-delay: -0.16s;
  }
  .loader:before,
  .loader:after {
    content: '';
    position: absolute;
    top: 0;
  }
  .loader:before {
    left: -3.5em;
    animation-delay: -0.32s;
  }
  .loader:after {
    left: 3.5em;
  }

  @keyframes bblFadInOut {
    0%, 80%, 100% { box-shadow: 0 2.5em 0 -1.3em }
    40% { box-shadow: 0 2.5em 0 0 }
  }

</style>


{# This is right below the 'forgot password' #}

<hr />

<div class="center-align">
    <form method="post" action="{{ linkTo({'module': 'PkceOIDC', 'action': 'signin'}) }}">
        <input type="hidden" name="form_nonce" value="{{ nonce }}" />
        <button class="btn loginoidc-auth-button" type="submit">
            {{ caption }}
        </button>
    </form>
</div>

{% if settings is defined and settings.autoSubmitLoginForm is defined and settings.autoSubmitLoginForm.value %}
<script>
    document.addEventListener('DOMContentLoaded', function () {
        document.querySelector('.loginoidc-auth-button').closest('form').submit();
    });
</script>
<div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 9998; background-color: white">
  <span style="position: fixed; height: 50%; width: 50%; top: 50%; left: 50%; z-index: 9999;" class="loader"></span>
</div>
{% endif %}
